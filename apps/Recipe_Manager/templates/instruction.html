[[extend 'layout.html']]

<div class="section">
  <div class="container">


    <h2 class="title is-4">[[=recipe.name]] <small>([[=recipe.type]])</small></h2>
    <p><strong>Servings:</strong> [[=recipe.servings]]</p>


<div class="columns mt-4 is-align-items-start">


      <div class="column is-half has-text-centered">
        [[if recipe.image:]]
          <figure class="image" style="width: 300px; height: 300px; margin: auto;">
            <img src="[[=URL('uploads/' + recipe.image)]]"
                 alt="Recipe Image"
                 style="width: 100%; height: 100%; object-fit: cover; border-radius: 8px;">
          </figure>
        [[pass]]
      </div>

      <!-- Ingredients -->
      <div class="column is-half">
        [[if ingredients:]]
          <div class="box has-shadow">
            <h3 class="title is-5 mb-3 has-text-primary">Ingredients</h3>
            <ul>
              [[for ing in ingredients:]]
                <li class="mb-2">
                  <label class="checkbox">
                    <input type="checkbox" class="mr-2" />
                    <strong>[[=ing['quantity_per_serving']]] [[=ing['unit'] or '']]</strong> — [[=ing['name']]]
                  </label>
                </li>
              [[pass]]
            </ul>
          </div>
        [[pass]]
      </div>
    </div>

    <!-- Instructions -->
<div class="box has-shadow mt-5">
  <h3 class="title is-5 mb-3 has-text-primary">Instructions</h3>
  <pre style="white-space: pre-wrap; word-wrap: break-word; font-size: 1rem; line-height: 1.6;">
[[=recipe.instruction_steps]]
  </pre>
</div>


    <div class="mt-4">
      <a class="button is-link is-light" href="[[=URL('recipe_page')]]">← Back to Recipes</a>
    </div>

  </div>
</div>

